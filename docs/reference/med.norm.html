<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Normalize a training dataset so that each array shares
a same median and store the median from the training dataset
as the reference to frozen median normalize a test dataset.
Also two other options are available: to only normalize
a training dataset but not frozen normalize a test dataset, or vise versa."><title>Median normalization — med.norm • PRECISION.array</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Median normalization — med.norm"><meta property="og:description" content="Normalize a training dataset so that each array shares
a same median and store the median from the training dataset
as the reference to frozen median normalize a test dataset.
Also two other options are available: to only normalize
a training dataset but not frozen normalize a test dataset, or vise versa."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PRECISION.array</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/my-vignette.html">PRECISION.array Vignette</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Median normalization</h1>
      
      <div class="d-none name"><code>med.norm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Normalize a training dataset so that each array shares
a same median and store the median from the training dataset
as the reference to frozen median normalize a test dataset.
Also two other options are available: to only normalize
a training dataset but not frozen normalize a test dataset, or vise versa.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">med.norm</span><span class="op">(</span>train <span class="op">=</span> <span class="cn">NULL</span>, test <span class="op">=</span> <span class="cn">NULL</span>, ref.dis <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>train</dt>
<dd><p>the training dataset to be median normalized.
The dataset must have rows as probes and columns as samples.
This can be left unspecified if <code>ref.dis</code> is
suppied for frozen normalize test set.</p></dd>
<dt>test</dt>
<dd><p>the test dataset to be frozen median normalized.
The dataset must have rows as probes and columns as samples.
The number of rows must equal to the number of rows in the training set.
By default, the test set is not specified (<code>test = NULL</code>) and
no frozen normalization will be performed.</p></dd>
<dt>ref.dis</dt>
<dd><p>the reference distribution for frozen median normalize test set
against previously normalized training set.
This is required when <code>train</code> is not supplied.
By default, <code>ref.dis = NULL</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list of two datasets and one reference distribution:</p>
<dl><dt>train.mn</dt>
<dd><p>the normalized training set, if training set is specified</p></dd>
<dt>test.fmn</dt>
<dd><p>the frozen normalized test set, if test set is specified</p></dd>
<dt>ref.dis</dt>
<dd><p>the reference distribution</p></dd>
</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">101</span><span class="op">)</span></span>
<span class="r-in"><span class="va">group.id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">nuhdata.pl</span><span class="op">)</span>, <span class="fl">7</span>, <span class="fl">7</span><span class="op">)</span></span>
<span class="r-in"><span class="va">train.ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">nuhdata.pl</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">group.id</span> <span class="op">==</span> <span class="st">"E"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">64</span><span class="op">)</span>,</span>
<span class="r-in">                               <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">group.id</span> <span class="op">==</span> <span class="st">"V"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">64</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"><span class="va">train.dat</span> <span class="op">&lt;-</span> <span class="va">nuhdata.pl</span><span class="op">[</span>, <span class="va">train.ind</span><span class="op">]</span></span>
<span class="r-in"><span class="va">test.dat</span> <span class="op">&lt;-</span> <span class="va">nuhdata.pl</span><span class="op">[</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">nuhdata.pl</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">train.ind</span><span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># normalize only training set</span></span>
<span class="r-in"><span class="va">data.mn</span> <span class="op">&lt;-</span> <span class="fu">med.norm</span><span class="op">(</span>train <span class="op">=</span> <span class="va">train.dat</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">data.mn</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ train.mn: num [1:1810, 1:128] 8.5 8.39 8.14 8.47 8.45 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:1810] "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:128] "GL5140E" "JB5556E" "JB4783E" "GL4527E" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ test.fmn: NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ref.dis : num 5.43</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># normalize training set and frozen normalize test set</span></span>
<span class="r-in"><span class="va">data.mn</span> <span class="op">&lt;-</span> <span class="fu">med.norm</span><span class="op">(</span>train <span class="op">=</span> <span class="va">train.dat</span>, test <span class="op">=</span> <span class="va">test.dat</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">data.mn</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ train.mn: num [1:1810, 1:128] 8.5 8.39 8.14 8.47 8.45 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:1810] "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:128] "GL5140E" "JB5556E" "JB4783E" "GL4527E" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ test.fmn: num [1:1810, 1:64] 6.48 6.92 7.21 5.92 6.14 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:1810] "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:64] "JB4166E" "JB5669E" "JB4112E" "JB5847E" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ref.dis : num 5.43</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># frozen normalize test set with reference distribution</span></span>
<span class="r-in"><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu">med.norm</span><span class="op">(</span>train <span class="op">=</span> <span class="va">train.dat</span><span class="op">)</span><span class="op">$</span><span class="va">ref.dis</span></span>
<span class="r-in"><span class="va">data.mn</span> <span class="op">&lt;-</span> <span class="fu">med.norm</span><span class="op">(</span>test <span class="op">=</span> <span class="va">test.dat</span>, ref.dis <span class="op">=</span> <span class="va">ref</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">data.mn</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ train.mn: NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ test.fmn: num [1:1810, 1:64] 6.48 6.92 7.21 5.92 6.14 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:1810] "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" "A_25_P00011991" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:64] "JB4166E" "JB5669E" "JB4112E" "JB5847E" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ref.dis : num 5.43</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Huei-Chung Huang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

